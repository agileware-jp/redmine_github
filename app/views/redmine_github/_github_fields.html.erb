<p>
  <%=
    form.text_field(
      :url,
      label: l(:field_url),
      size: 60,
      required: true,
      disabled: !repository.safe_attribute?('url')
    )
  %>
  <%= scm_path_info_tag(repository) %>
</p>
<p>
  <%=
    form.password_field(
      :access_token,
      label: l(:label_github_token),
      size: 30,
      name: 'ignore',
      value: (repository.new_record? || repository.access_token.blank? ? '' : ('x' * 15)),
      onfocus: "this.value=''; this.name='repository[access_token]';",
      onchange: "this.name='repository[access_token]';"
    )
  %>
</p>
<p>
  <%=
    form.password_field(
      :webhook_secret,
      label: l(:label_github_webhook_secret),
      size: 30,
      name: 'ignore',
      required: true,
      value: (repository.new_record? || repository.webhook_secret.blank? ? '' : ('x' * 15)),
      onfocus: "this.value=''; this.name='repository[webhook_secret]';",
      onchange: "this.name='repository[webhook_secret]';"
    )
  %>
</p>
<%= scm_path_encoding_tag(form, repository) %>
<p><%= form.check_box(:report_last_commit, label: l(:label_git_report_last_commit)) %></p>
